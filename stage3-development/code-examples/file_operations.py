# ファイル操作の練習

# 1. 以下の契約書テンプレートを作成し、ファイルに保存してください
contract_template = """
業務委託契約書

株式会社〇〇（以下「甲」という）と株式会社△△（以下「乙」という）は、以下のとおり業務委託契約（以下「本契約」という）を締結する。

第1条（目的）
甲は、以下に定める業務（以下「本業務」という）を乙に委託し、乙はこれを受託する。
業務内容：[業務内容]

第2条（委託料）
1. 本業務の委託料は、月額金[委託料]円（税別）とする。
2. 甲は、前項の委託料を、乙の請求に基づき、請求書受領月の翌月末日までに乙の指定する銀行口座に振り込む方法により支払うものとする。
3. 振込手数料は甲の負担とする。

第3条（契約期間）
1. 本契約の有効期間は、[開始日]から[終了日]までとする。
2. 前項の期間満了の1ヶ月前までに、甲または乙から相手方に対して書面による契約終了の意思表示がない場合、本契約は同一条件でさらに1年間自動的に更新されるものとし、以後も同様とする。

第4条（秘密保持）
甲および乙は、本契約に関連して知り得た相手方の技術上・営業上の一切の情報を、相手方の事前の書面による承諾なく第三者に開示または漏洩してはならない。

以上、本契約の成立を証するため、本書2通を作成し、甲乙記名押印のうえ、各1通を保有する。

[契約締結日]

甲：[甲の住所]
  [甲の名称]
  [甲の代表者]  印

乙：[乙の住所]
  [乙の名称]
  [乙の代表者]  印
"""

# ファイルに書き込み
with open("contract_template.txt", "w", encoding="utf-8") as f:
    f.write(contract_template)

print("契約書テンプレートをファイルに保存しました。")

# 2. 上記のテンプレートを読み込み、以下の情報で置換して新しい契約書を作成してください
contract_info = {
    "[業務内容]": "法務文書の作成支援および契約書レビュー業務",
    "[委託料]": "300,000",
    "[開始日]": "2023年7月1日",
    "[終了日]": "2024年6月30日",
    "[契約締結日]": "2023年6月15日",
    "[甲の住所]": "東京都千代田区丸の内1-1-1",
    "[甲の名称]": "株式会社法務テック",
    "[甲の代表者]": "代表取締役 法務太郎",
    "[乙の住所]": "東京都港区赤坂2-2-2",
    "[乙の名称]": "リーガルサポート株式会社",
    "[乙の代表者]": "代表取締役 契約花子"
}

# テンプレートを読み込み
with open("contract_template.txt", "r", encoding="utf-8") as f:
    template_content = f.read()

# 情報を置換
new_contract = template_content
for key, value in contract_info.items():
    new_contract = new_contract.replace(key, value)

# 新しい契約書をファイルに保存
with open("new_contract.txt", "w", encoding="utf-8") as f:
    f.write(new_contract)

print("新しい契約書を作成しました。")

# 3. 作成した契約書から特定の条項（第4条）を抽出して表示してください
with open("new_contract.txt", "r", encoding="utf-8") as f:
    contract_content = f.read()

# 正規表現で第4条を抽出
import re
article4_match = re.search(r"第4条（.+?）\n(.+?)(?=\n\n)", contract_content, re.DOTALL)
if article4_match:
    article4 = article4_match.group(0)
    print("\n第4条（秘密保持）:")
    print(article4)
else:
    print("\n第4条が見つかりませんでした。") 